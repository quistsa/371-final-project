<style>
    div{
        padding: 5px;
    }
    
    label{
        font-weight: bold;
    }
    body{
        padding:20px;
    }
    .btn.btn-success{
        margin: 5px;
    }   
    .btn.btn-warning{
        margin: 10px
    } 
</style>

<% 
    if (car.id) {
        submitLabel = "Update Car";
        route = `/cars/${car.id}`;
    } else {
        submitLabel = "Create Car";
        route = "/cars";
    }
%>
    <% if (car.errors.length > 0) { %>
        <% console.log("Errors occurred"); console.log(car.errors); %>

            <div>
                <p>Errors:</p>
                <ul>
                    <%- car.errors.map((item) => `<li>${item}</li>`).join("\n"); %>
                </ul>
            </div>
            <% } %>

            <div class="btn-group">
                <a href="/" class="btn btn-primary" >Home</a>
                <a href="/cars" class="btn btn-primary">Cars</a>
              </div> 

                <form action="<%= route %>" accept-charset="UTF-8" method="post" class="form">

                    <div class="field">
                        <label for="car_userID" class="form-label">User</label>
                        <select name="car[userID]" id="car_userID" class="form-select w-25">
                            <option value="1">Sydney Smith</option>
                            <option value="2">Jacob Adamson</option>
                            <option value="3">Percy Potter</option>
                            <option value="4">First Last</option>
                        </select>
                    </div>

                    <div class="field">
                        <label for="car_title" class="form-label">Title</label>
                        <input type="text" name="car[title]" id="car_title" value="<%= car.title %>" class="form-control w-25">
                    </div>

                    <div class="field ">
                        <label for="car_desc" class="form-label">Description</label>
                        <textarea name="car[desc]" id="car_desc" class="form-control w-50"><%= car.desc %></textarea>
                    </div>

                    <div class="field ">
                        <label for="car_type" class="form-label">Issue Type</label>
                        <select name="car[type]" id="car_type" class="form-select w-25">
                            <option value="issue">Issue</option>
                            <option value="feature">Feature</option>
                            <option value="enhancement">Enhancement</option>
                        </select>
                    </div>

                    <div class="field ">
                        <label for="car_prio" class="form-label">Priority</label>
                            <select name="car[prio]" id="car_prio" class="form-select w-25">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </label>
                    </div>

                    <div class="field ">
                        <label for="car_status" class="form-label">Status</label>
                            <select name="car[status]" id="car_status" class="form-select w-25">
                                <option value="open">Open</option>
                                <option value="closed">Closed</option>
                                <option value="monitor">Monitor</option>
                            </select>
                        </label>
                    </div>

                    <p></p>

                    <div class="actions ">
                        <input type="submit" name="commit" value="<%= submitLabel %>" class="btn btn-success"/>
                    </div>

                    <p>
                        <a href="/cars" class="btn btn-warning">Back</a>
                    </p>
                    
                </form>

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script> 